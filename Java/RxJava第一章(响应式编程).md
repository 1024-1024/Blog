##RxJava
> 转载请注明出处：[]()

***

###响应式编程
响应式编程是一种基于异步数据流概念的编程模式。数据流就像一条河：它可以被观测，被过滤，被操作，或者为新的消费者与另外一条流合并为一条新的流。

响应式编程的一个关键概念是事件。事件可以被等待，可以触发过程，也可以触发其它事件。事件是唯一的以合适的方式将我们的现实世界映射到我们的软件中：如果屋里太热了我们就打开一扇窗户。同样的，当我们更改电子表（变化的传播）中的一些数值时，我们需要更新整个表格或者我们的机器人碰到墙时会转弯（响应事件）。

今天，响应式编程最通用的一个场景是UI：我们的移动App必须做出对网络调用、用户触摸输入和系统弹框的响应。在这个世界上，软件之所以是事件驱动并响应的是因为现实生活也是如此。

###RxJava的前世今生
Rx是微软.Net的一个响应式扩展，Rx借助可观测的序列提供一种简单的方式来创建异步的，基于事件驱动的程序。2012年Netflix为了应对庞大的用户群体，因此决定重新设计架构来减少RESTI调用的次数。取代几十次的REST调用，而是让客户端自己处理需要的数据，他们决定基于客户端需求创建一个专门优化过的REST调用。为了实现这一目标，他们决定尝试响应式，开始将.NET Rx迁移到JVM上面。他们不想只基于Java语言；而是整个JVM，从而有可能为市场上的每一种基于JVM的语言：如Java、Closure、Groovy、Scala等等提供一种新的工具。

2013年二月份,Ben Christensen 和 Jafar Husain发在Netflix技术博客的一篇文章第一次向世界展示了RxJava。

主要特点有：

1. 易于并发从而更好的利用服务器的能力。
2. 易于有条件的异步执行。
3. 一种更好的方式来避免回调地狱。
4. 一种响应式方法。

从纯Java的观点看，RxJava Observable类源自于经典的观察者模式。

它添加了三个缺少的功能：

1. 生产者在没有更多数据可用时能够发出信号通知：onCompleted()事件。
2. 生产者在发生错误时能够发出信号通知：onError()事件。
3. RxJava Observables能够组合而不是嵌套，从而避免开发者陷入回调地狱。

从语义的角度来看，RxJava就是.NET Rx。从语法的角度来看，Netflix考虑到了对应每个Rx方法,保留了Java代码规范和基本的模式。

###什么是RxJava
好吧，我承认前面都是从网上抄的。我相信大家也看得云里雾里，那么到底什么是RxJava呢？我对它的定义是：__RxJava的本质是异步。说到底它就是一个实现异步操作的库，是一个能让你摆脱编写一些复杂繁琐的代码去处理异步事件的库，而其它定语都是基于这之上的。__

###观察者模式
观察者模式Subject这个概念，Subject是一种特殊对象。当它改变时那些由它保存的一系列对象将会得到通知，而这一系列对象被称作Observers。它们会对外暴漏了一个通知方法，当Subject状态发生变化时会调用的这个方法。

观察者模式很适合下面这些场景中的任何一个：

1. 当你的架构有两个实体类，一个依赖另一个，你想让它们互不影响或者是独立复用它们时。
2. 当一个变化的对象通知那些与它自身变化相关联的未知数量的对象时。
3. 当一个变化的对象通知那些无需推断具体类型的对象时。

关于观察者模式的详细介绍可以参考我之前的文章：[设计模式之观察者模式](http://www.jianshu.com/p/d55ee6e83d66)

###RxJava中的观察者模式
在RxJava里有四种角色

* Observable
* Observer
* Subscriber
* Subjects

Observables和Subjects是两个“生产”实体，Observers和Subscribers是两个“消费”实体。












